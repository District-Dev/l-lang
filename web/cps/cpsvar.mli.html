<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>cpsvar.mli</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<STYLE type="text/css">
.li-itemize{margin:1ex 0ex;}
.li-enumerate{margin:1ex 0ex;}
.dd-description{margin:0ex 0ex 1ex 4ex;}
.dt-description{margin:0ex;}
.toc{list-style:none;}
.thefootnotes{text-align:left;margin:0ex;}
.dt-thefootnotes{margin:0em;}
.dd-thefootnotes{margin:0em 0em 0em 2em;}
.footnoterule{margin:1em auto 1em 0px;width:50%;}
.caption{padding-left:2ex; padding-right:2ex; margin-left:auto; margin-right:auto}
.title{margin:2ex auto;text-align:center}
.center{text-align:center;margin-left:auto;margin-right:auto;}
.flushleft{text-align:left;margin-left:0ex;margin-right:auto;}
.flushright{text-align:right;margin-left:auto;margin-right:0ex;}
DIV TABLE{margin-left:inherit;margin-right:inherit;}
PRE{text-align:left;margin-left:0ex;margin-right:auto;}
BLOCKQUOTE{margin-left:4ex;margin-right:4ex;text-align:left;}
TD P{margin:0px;}
.boxed{border:1px solid black}
.textboxed{border:1px solid black}
.vbar{border:none;width:2px;background-color:black;}
.hbar{border:none;height:2px;width:100%;background-color:black;}
.hfill{border:none;height:1px;width:200%;background-color:black;}
.vdisplay{border-collapse:separate;border-spacing:2px;width:auto; empty-cells:show; border:2px solid red;}
.vdcell{white-space:nowrap;padding:0px;width:auto; border:2px solid green;}
.display{border-collapse:separate;border-spacing:2px;width:auto; border:none;}
.dcell{white-space:nowrap;padding:0px;width:auto; border:none;}
.dcenter{margin:0ex auto;}
.vdcenter{border:solid #FF8000 2px; margin:0ex auto;}
.minipage{text-align:left; margin-left:0em; margin-right:auto;}
.marginpar{border:solid thin black; width:20%; text-align:left;}
.marginparleft{float:left; margin-left:0ex; margin-right:1ex;}
.marginparright{float:right; margin-left:1ex; margin-right:0ex;}
.theorem{text-align:left;margin:1ex auto 1ex 0ex;}
.part{margin:2ex auto;text-align:center}
</STYLE>
</HEAD>
<BODY >
<!--HEVEA command line is: /usr/bin/hevea -I /usr/share/texmf/tex/latex/misc ocamlweb.sty cpsvar.mli.tex -->
<!--CUT DEF section 1 --><!--TOC section Interface for module Cpsvar-->
<H2 CLASS="section"><!--SEC ANCHOR -->Interface for module Cpsvar</H2><!--SEC END --><P>
<A NAME="src/cps/cpsvar.mli:0"></A>There are two structures where information about variables is
attached. <code>occurrence</code> stores data about the use of a variable
(like the location of the use). <code>variable</code> stores data common to
all the uses of the variable, like its type, or the location where
the variable is bound. 
<BR><A NAME="src/cps/cpsvar.mli:337"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>

<span style="color: #0000ff; font-weight: bold;">type</span> (&#X3B1;, &#X3B2;) variable<BR>
<span style="color: #0000ff; font-weight: bold;">type</span> (&#X3B1;, &#X3B2;) occurrence</P><P></code></div>
The user of the module must configure the information it wants to
attach to a <code>variable</code> or <code>occurrence</code> (using the DESC structure).
This information is called a <code>description</code>.</P><P>The <code>make</code> functions, that create new variables and occurence, do
not take an initial <code>description</code> argument. This allows to break
circular dependencies, e.g. where a term points to a variable or
occurrence, and a variable points to the term that bind or use it.</P><P>Instead, for both the variable and its occurrence, the description
is set with the <code>set_description</code> function, and obtained with the
<code>description</code> function. It is illegal (and checked by assertions)
to set a description more than once, or to call <code>description</code> on a
variable when the description has not been set. </P><P>The <code>var_prefix</code> parameter is used as a prefix to the <code>to_string</code>
function. For exemple if prefix is "x", <code>to_string</code> may return
"x10" for a variable and "x10_2" for one of its occurrence. 
<BR><A NAME="src/cps/cpsvar.mli:1381"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>

<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #0000ff; font-weight: bold;">type</span> <span style="color: #228b22; ">DESCRIPTION</span> = <span style="color: #0000ff; font-weight: bold;">sig</span> <BR>  
<span style="color: #0000ff; font-weight: bold;">type</span> variable_description<BR>  
<span style="color: #0000ff; font-weight: bold;">type</span> occurrence_description<BR>  
<span style="color: #0000ff; font-weight: bold;">val</span> var_prefix:<span style="color: #228b22; ">string</span><BR>
<span style="color: #0000ff; font-weight: bold;">end</span><BR>
<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #228b22; ">Make</span> (<span style="color: #228b22; ">Desc</span> : <span style="color: #228b22; ">DESCRIPTION</span>) :<BR>
<span style="color: #0000ff; font-weight: bold;">sig</span><BR>  
<span style="color: #0000ff; font-weight: bold;">type</span> var = (<span style="color: #228b22; ">Desc.</span>variable_description, <span style="color: #228b22; ">Desc.</span>occurrence_description) variable<BR>  
<span style="color: #0000ff; font-weight: bold;">type</span> occur = (<span style="color: #228b22; ">Desc.</span>variable_description, <span style="color: #228b22; ">Desc.</span>occurrence_description) occurrence</P><P><A NAME="src/cps/cpsvar.mli:1700"></A>  
<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #228b22; ">Var</span> :<BR>  
<span style="color: #0000ff; font-weight: bold;">sig</span></P><P></code></div>    
<code>make ()</code> create a new variable. 
<BR><A NAME="src/cps/cpsvar.mli:1765"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>
    
<span style="color: #0000ff; font-weight: bold;">val</span> make : <span style="color: #228b22; ">unit</span> &#X2192; var</P><P></code></div>    
The following function allows to differentiate, in O(1) time,
between the 0-occurrence case (the variable is useless), the
1-occurrence case (a good candidate for inlining), and the case
with more than one occurrence. 
<BR><A NAME="src/cps/cpsvar.mli:2042"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>
    
<span style="color: #0000ff; font-weight: bold;">type</span> occurrence_number = <BR>      
&#X2223; <span style="color: #228b22; ">No_occurrence</span><BR>      
&#X2223; <span style="color: #228b22; ">One_occurrence</span> <span style="color: #a52a2a; ">of</span> occur<BR>      
&#X2223; <span style="color: #228b22; ">Several_occurrences</span><BR>    
<span style="color: #0000ff; font-weight: bold;">val</span> occurrence_number: var &#X2192; occurrence_number</P><P></code></div>    
This function allows to iterate on occurrences. The order is
arbitrary. 
<BR><A NAME="src/cps/cpsvar.mli:2296"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>
    
<span style="color: #0000ff; font-weight: bold;">val</span> fold_on_occurrences: var &#X2192; &#X3B1; &#X2192; (&#X3B1; &#X2192; occur &#X2192; &#X3B1;) &#X2192; &#X3B1;</P><P><A NAME="src/cps/cpsvar.mli:2365"></A>    
<span style="color: #0000ff; font-weight: bold;">val</span> description : var &#X2192; <span style="color: #228b22; ">Desc.</span>variable_description<BR>    
<span style="color: #0000ff; font-weight: bold;">val</span> set_description : var &#X2192; <span style="color: #228b22; ">Desc.</span>variable_description &#X2192; <span style="color: #228b22; ">unit</span><BR>    
<span style="color: #0000ff; font-weight: bold;">val</span> to_string : var &#X2192; <span style="color: #228b22; ">string</span></P><P><A NAME="src/cps/cpsvar.mli:2522"></A>    
<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #228b22; ">Map</span> : <span style="color: #228b22; ">Map.S</span> <span style="color: #a020f0; ">with</span> <span style="color: #0000ff; font-weight: bold;">type</span> key = var<BR>    
<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #228b22; ">Set</span> : <span style="color: #228b22; ">Set.S</span> <span style="color: #a020f0; ">with</span> <span style="color: #0000ff; font-weight: bold;">type</span> elt = var<BR>  
<span style="color: #0000ff; font-weight: bold;">end</span></P><P><A NAME="src/cps/cpsvar.mli:2615"></A>  
<span style="color: #0000ff; font-weight: bold;">module</span> <span style="color: #228b22; ">Occur</span> :<BR>  
<span style="color: #0000ff; font-weight: bold;">sig</span></P><P></code></div>    
<code>make var</code> creates a new occurrence of <code>var</code>. 
<BR><A NAME="src/cps/cpsvar.mli:2695"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>
    
<span style="color: #0000ff; font-weight: bold;">val</span> make : var &#X2192; occur</P><P></code></div>    
<code>binding_variable occur</code> returns the binding variable of
<code>occur</code>, i.e. the variable <code>var</code> such that <code>occur</code> is an
occurrence of <code>var</code>. 
<BR><A NAME="src/cps/cpsvar.mli:2883"></A>
<div style="border: solid 1px gray; background:#eeeeee;
            margin: 0.5em 1em 0.5em 1em;
            padding: 0.5em 1em 0.5em 1em;
            font-family:mono"><code>
    
<span style="color: #0000ff; font-weight: bold;">val</span> binding_variable : occur &#X2192; var</P><P><A NAME="src/cps/cpsvar.mli:2924"></A>    
<span style="color: #0000ff; font-weight: bold;">val</span> description: occur &#X2192; <span style="color: #228b22; ">Desc.</span>occurrence_description<BR>    
<span style="color: #0000ff; font-weight: bold;">val</span> set_description: occur &#X2192; <span style="color: #228b22; ">Desc.</span>occurrence_description &#X2192; <span style="color: #228b22; ">unit</span><BR>    
<span style="color: #0000ff; font-weight: bold;">val</span> to_string : occur &#X2192; <span style="color: #228b22; ">string</span><BR>  
<span style="color: #0000ff; font-weight: bold;">end</span><BR>
<span style="color: #0000ff; font-weight: bold;">end</span><BR><BR></code></div></P><!--CUT END -->
<!--HTMLFOOT-->
<!--ENDHTML-->
<!--FOOTER-->
<HR SIZE=2><BLOCKQUOTE CLASS="quote"><EM>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</EM><A HREF="http://hevea.inria.fr/index.html"><EM>H</EM><EM><FONT SIZE=2><sup>E</sup></FONT></EM><EM>V</EM><EM><FONT SIZE=2><sup>E</sup></FONT></EM><EM>A</EM></A><EM>.</EM></BLOCKQUOTE></BODY>
</HTML>
